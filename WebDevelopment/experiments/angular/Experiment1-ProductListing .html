<!DOCTYPE html>
<html>
<head>
    <title>Visha's Experiments</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Web Development CS-5610 Home Page">
    <meta name="author" content="Vishalakshy Rajaram Chettiar">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
    <link rel="stylesheet" href="http://cdn.datatables.net/1.10.2/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap-theme.min.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"> </script>
    <script type="text/javascript" src="http://cdn.datatables.net/1.10.2/js/jquery.dataTables.min.js"></script>
    <link rel="stylesheet" href="css/StyleSheet.css" />
    <script src="js/angular1.js"></script>

</head>
<body ng-app="ionicApp" ng-controller="MainCtrl">
    <div class="main-wrapper">
        <h1>AngularJS Experiment 1 - Product search </h1>
        <div class="demo-wrapper">
            <h2>Product search</h2>
            <div class="container">
                <div class="row">
                    <div class="col-sm-10">
                        <script type="text/javascript" src="js/include.js"> </script>
                    </div>
                    <div class="col-sm-2">
                        
                    </div>
                </div>
                <div class="tablediv row" >
                    <div class="col-sm-2">
                    </div>
                    <div class="col-sm-8">
                        <table class="table table-striped table-hover table-bordered table-responsive prdtTable">
                            <thead>
                                <tr>
                                    <th>
                                        Product Image
                                    </th>
                                    <th>
                                        Product description
                                    </th>
                                    <th>
                                        Product price
                                    </th>
                                </tr>
                            </thead>
                            <tr ng-repeat="product in products">
                                <td width="20%" class="prdtimg"><img class="centeredImg" ng-src="{{product.image}}"></td>
                                <td width="60%">
                                    <h4><b>{{product.name}}</b></h4>
                                    <p><b>Product Id: </b>{{product.sku}}</p>
                                    <p><b>Short Description:</b> {{product.shortDescription}}</p>
                                    <p><b>Long description : </b>{{product.longDescription}}</p>
                                </td>
                                <td width="40%">
                                    <p><b>Regular price : </b>${{product.regularPrice}}</p>
                                    <p><b>Sale Price : </b>${{product.salePrice}}</p>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-sm-2">
                    </div>
                </div>
            </div>
        </div>
        <h2>About the experiment</h2>
        <p id="text">
            This experiment uses angularJS to fetch records from a remote server using public web api of best buy. The $http service is a 
            core Angular service that facilitates communication with the remote HTTP servers via the browser's XMLHttpRequest object or via JSONP.
            On clicking links in the nav menu at the top, the appropriate http request is triggered. 
            <br />
            <br />
            <b>Code Snippet:</b>
            <br />
            <br />
            <table class="code">
                <tr>
                    <td width="100%">
                        $scope.music = function () { <br />
                        $http.jsonp(&apos;http://api.remix.bestbuy.com/v1/products(type=Music)?format=json&amp;show=all&amp;callback=JSON_CALLBACK&quot;)<br />
                        .success(function (resp) {<br />
                        $scope.products = resp.products;<br />
                        })<br />
                        .error(function (data) {<br />
                        $scope.data = &quot;Request failed&quot;;<br />
                        });<br />
                    </td>
                </tr>
            </table>
            <br/>
            <p>
            Here, reponse is requested in JSONP format to avoid cross domain query issues. The http request returns a single or an array of
            json objects depending on the query. The response is then iterated over using 'ng-repeat' to fetch the objects one by one. For
            each object, the individual fields are extracted and displayed in html using '{ }'(angular expression) property.
            </p>
            <br />
            <b>Code Snippet:</b>
            <br />
            <br />
            <table class="code">
                <tr>
                    <td width="100%">
                        &lt;tr ng-repeat=&quot;product in products&quot;&gt; <br />
                        &lt;td&gt;&lt;img ng-src=&quot;{{product.image}}&quot;&gt;&lt;/td&gt; <br />
                        &lt;td&gt;&lt;h4&gt;&lt;b&gt;{{product.name}}&lt;/b&gt;&lt;/h4&gt;<br />
                        &lt;p&gt;&lt;b&gt;Product Id: &lt;/b&gt;{{product.sku}}&lt;/p&gt;<br />
                        &lt;p&gt;&lt;b&gt;Short Description:&lt;/b&gt; {{product.shortDescription}}&lt;/p&gt;<br />
                        &lt;p&gt;&lt;b&gt;Long description : &lt;/b&gt;{{product.longDescription}}&lt;/p&gt;<br />
                        &lt;/td&gt;<br />
                        &lt;td width=&quot;40%&quot;&gt; &lt;p&gt;&lt;b&gt;Regular price : &lt;/b&gt;${{product.regularPrice}} &lt;/p&gt;<br />
                        &lt;p&gt;&lt;b&gt;Sale Price : &lt;/b&gt;${{product.salePrice}}&lt;/p&gt;<br />
                        &lt;/td&gt;<br />
                        &lt;/tr&gt;<br />
                    </td>
                </tr>
            </table>

        <h2>Source Code</h2>
        <div><a href="../../fileview/Default.aspx?~/experiments/angularjs/Experiment1-ProductListing.html" target="_blank">HTML Source</a></div>
        <div><a href="../../fileview/Default.aspx?~/experiments/angularjs/angular1.js" target="_blank">AngularJS Source</a></div>
        <h2>References</h2>
        <div><a href="https://developer.bestbuy.com/" target="_blank">Bestbuy developer</a></div>
    </div>
</body>
</html>