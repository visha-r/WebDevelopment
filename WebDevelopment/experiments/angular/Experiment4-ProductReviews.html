<!DOCTYPE html>
<html>
<head>
    <title>Visha's Experiments</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    <meta name="description" content="Web Development CS-5610 Home Page">
    <meta name="author" content="Vishalakshy Rajaram Chettiar">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.26/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/StyleSheet.css" />
    <script src="js/angular4.js"></script>
</head>
<body ng-app="ionicApp" ng-controller="MainCtrl">
    <div class="main-wrapper">
        <h1>AngularJS Experiment 5 - Adding dynamic content </h1>
        <div class="demo-wrapper">
            <h2>Reviewing products by adding contents dynamically</h2>
            <div class="container">
                <div class="tablediv row">
                    <div class="col-sm-1">
                    </div>
                    <div class="col-sm-10">
                        <table class="table table-striped table-hover table-responsive prdtTable">

                            <thead>
                                <tr>
                                    <td>
                                        <label for="title">Product Name : </label>
                                    </td>
                                    <td colspan="2">
                                        <form class="form-horizontal">
                                            <select class="product selectpicker form-control">
                                                <option>--Select product to see the reviews--</option>
                                                <option value="1752745">iPhone-4s</option>
                                                <option value="1752291">iPhone-5c</option>
                                                <option value="9783423">Nokia-220</option>
                                            </select>
                                        </form>
                                    </td>
                                    
                                </tr>
                                <tr class="initiallyHidden">
                                    <td colspan="3">
                                        Please add your review and scroll down to the bottom of the page to view.

                                    </td>
                                </tr>

                                <tr class="initiallyHidden">
                                    <td>
                                        <input type="text" class="form-control" ng-model="myTitle" placeholder="Review Title" />
                                    </td>
                                    <td>
                                        <input class="form-control" ng-model="myReview" placeholder="Type your review here" />
                                    </td>
                                    <td>
                                        <input type="text" ng-model="myName" class="form-control" placeholder="Your name" />
                                    </td>
                                    <td>
                                        <button style="float:left" class="btn btn-success" ng-click="addReviews()"><span class="glyphicon glyphicon-plus"></span></button>
                                    </td>
                                </tr>
                                <tr class="initiallyHidden">
                                    <th colspan="3">
                                        Product Reviews
                                    </th>
                                </tr>
                            </thead>
                            <tr ng-repeat="review in reviews" class="initiallyHidden">
                                <td width="100%" colspan="3">
                                    <h4><b>{{review.title}}</b></h4>
                                    <p><b>Product Id: </b>{{review.reviewer[0].name}}</p>
                                    <p><b>Short Description:</b> {{review.comment}}</p>
                                </td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-sm-1">
                    </div>
                </div>
            </div>
        </div>
        <h2>About the experiment</h2>
        <p id="text">
            This experiment lets users to add reviews about a product dynamically. Initially on selecting a particular product,
            its existing comments in the remote server are loaded to the page. The user then gets an option to add his own comments
            to the existing ones. On clicking the button right next to the text box, all his data are added to the existing reviews
            list. Because angularJS supports binding property, the newly added comments immediately appear on the page without getting
            refreshed.
            <br />
            <br />
            <b>Code Snippet:</b>
            <br />
            <br />
            <table class="code">
                <tr>
                    <td width="100%">
                        $scope.addReviews = function () { <br />
                        var myReview = { <br />
                        title: $scope.myTitle, <br />
                        comment:$scope.myReview, <br />
                        reviewer: [{ name: $scope.myName }], <br />
                        } <br />
                        $scope.reviews.push(myReview);<br />
                        console.log($scope.reviews); <br />
                        }<br />
                    </td>
                </tr>
            </table>
            <br />
            Based on the information given by the user, a JSON object is created. This object is then added to the existing
            object which already contains the list of reviews.
        </p>
        <h2>Source Code</h2>
        <div><a href="../../fileview/Default.aspx?~/experiments/angular/Experiment4-ProductReviews.html" target="_blank">HTML Source</a></div>
        <div><a href="../../fileview/Default.aspx?~/experiments/angular/js/angular4.js" target="_blank">AngularJS Source</a></div>
        <h2>References</h2>
        <div><a href="https://www.youtube.com/watch?v=Kan1sMNOlIc" target="_blank"> Youtube Lecture </a></div>
    </div>
</body>
</html>